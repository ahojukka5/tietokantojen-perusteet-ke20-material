---
path: '/luku-5/1'
title: 'Suunnittelun lähtökohdat'
hidden: false
---

Tietokannan suunnittelussa meidän tulee päättää,
mitä tauluja tietokannassa on sekä mitä sarakkeita
kussakin taulussa on.
Tähän on sinänsä suuri määrä mahdollisuuksia,
mutta tuntemalla muutaman periaatteen ja maalaisjärjellä
pärjää hyvin pitkälle.

Hyvä tavoite suunnittelussa on,
että tuloksena olevaa tietokantaa on mukavaa käyttää
SQL-kielen avulla.
Tietokannan rakenteen tulisi olla sellainen,
että pystymme hakemaan ja muuttamaan
tietoa näppärästi SQL-komennoilla.

## Taulu vs. luokka

Tietokannan taulu ja olio-ohjelmoinnin luokka ovat
samantapaisia käsitteitä.
Molemmissa on kyse siitä, että määrittelemme tiedon _tyypin_.
Esimerkiksi seuraava SQL-komento ja Java-koodi vastaavat toisiaan:

```sql
CREATE TABLE Elokuvat (id INTEGER PRIMARY KEY, nimi TEXT, vuosi INTEGER);
```

```java
public class Elokuva {
	private String nimi;
	private int vuosi;

	public Elokuva(String nimi, int vuosi) {
	    this.nimi = nimi;
	    this.vuosi = vuosi;
	}
}
```

Vastaavasti rivin lisääminen tietokannan tauluun ja
olion luominen luokasta toimivat samalla periaatteella.
Esimerkiksi voimme lisätä kolme riviä ja luoda kolme
oliota seuraavasti:

```sql
INSERT INTO Elokuvat (nimi,vuosi) VALUES ('Lumikki',1937);
INSERT INTO Elokuvat (nimi,vuosi) VALUES ('Fantasia',1940);
INSERT INTO Elokuvat (nimi,vuosi) VALUES ('Pinocchio',1940);
```

```java
Elokuva a = new Elokuva("Lumikki",1937);
Elokuva b = new Elokuva("Fantasia",1940);
Elokuva c = new Elokuva("Pinocchio",1940);
```

Huomaa, että ohjelmoinnissa luokissa ei ole tarvetta id-kentälle,
koska voimme viitata niihin muutenkin.
Esimerkiksi yllä olevassa koodissa muuttujat
`a`, `b` ja `c` sisältävät viittaukset olioihin.

## Suunnittelun periaatteet

Tutustumme seuraavissa aliluvuissa tarkemmin
tietokannan suunnittelun periaatteisiin.
Voimme muotoilla periaatteet seuraavasti:

*Periaate 1*:
Tietokannan taulut ja sarakkeet ovat kiinteät.
Kun tietokantaan lisätään tietoa,
lisäämme tauluihin rivejä mutta emme lisää
uusia tauluja eikä sarakkeita.

*Periaate 2*:
Jokaisessa sarakkeessa on jokin yksittäinen tieto,
mutta ei listaa tiedoista.
Lista tallennetaan erilliseen tauluun niin,
että jokainen alkio on oma rivinsä.

*Periaate 3*:
Jokainen tieto on tasan yhdessä paikassa tietokannassa.
Tietokannassa ei ole tietoa,
jonka voi laskea tai päätellä tietokannan
muun sisällön perusteella.

<text-box variant='hint' name='Normalisointi'>

Tietokantojen teoriassa esiintyy usein käsite _normalisointi_,
jonka tavoitteena on tietokannan rakenteen parantaminen.
Tämä tapahtuu muokkaamalla tietokantaa niin,
että se toteuttaa tiettyjä _normaalimuotoja_.

Normalisointi johtaa käytännössä samaan tulokseen kuin
yllä olevat periaatteet,
mutta normaalimuotojen vaatimukset ovat varsin kryptiset.
Jos haluat ajanvietteeksi perehtyä tietokantojen teoriaan,
sinun kannattaa ottaa selvää normaalimuodoista &ndash;
muuten yllä olevat periaatteet riittävät mainiosti.

</text-box>
