---
path: '/luku-2/4'
title: 'Kyselyn yleiskuva'
hidden: false
---

SQL-kyselyn yleiskuva on seuraava:

`SELECT` – `FROM` – `WHERE` – `GROUP BY` – `HAVING` – `ORDER BY`

Kyselystä riippuu, mitkä osat siinä esiintyvät.
Tämä on kuitenkin aina järjestys,
jossa eri osat esiintyvät toisiinsa nähden.

## Kyselyn suoritus

Voimme ajatella, että SQL-kysely suoritetaan seuraavasti:

1. Lähtökohtana ovat `FROM`-osassa annetun taulun rivit.
2. Jos kyselyssä on `WHERE`-osa, riveistä valitaan mukaan ne,
   jotka täsmäävät ehtoon.
3. Jos kyselyssä on `GROUP BY` -osa, rivit ryhmitellään
   tämän osan mukaisesti. Jokainen ryhmä muuttuu yhdeksi riviksi.
4. Jos kyselyssä on `HAVING`-osa, riveistä valitaan mukaan ne,
   jotka täsmäävät ehtoon.
5. Jos kyselyssä on `ORDER BY` -osa, rivit järjestetään
   tämän osan mukaisesti.
6. Jokaisesta rivistä valitaan `SELECT`-osassa annetut sarakkeet.

Huomaa, että tietokantajärjestelmä ei välttämättä suorita kyselyä
juuri tällä tavalla vaan se voi optimoida suoritusta eri tavoin.
Kyselyn lopputulos on kuitenkin tätä vastaava.

## Esimerkki

TODO
